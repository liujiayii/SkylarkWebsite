<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.websit.mapper.T_replyMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.websit.entity.T_reply">
        <id column="id" property="id" />
        <result column="comment_id" property="comment_id" />
        <result column="user_id" property="user_id" />
        <result column="users_id" property="users_id" />
        <result column="create_time" property="create_time" />
    </resultMap>
    <select id="postinglist" resultType="com.websit.entityvo.postinglist" >
    SELECT    u.id,u.nickname,u.avatar,c.comment, c.posting_id as posting_id FROM t_comment  c join   t_user  U on c.user_id=u.id
    where c.posting_id=#{posting_id}
    </select>
     <select id="t_commentlist" resultType="com.websit.entityvo.postinglist">
    select    u.id,u.nickname,u.avatar,p.context as comment,p.id  from     t_posting  p join   t_user  U on p.user_id=u.id
    where p.id=#{posting_id}
    </select>
      <select id="tret" resultType="com.websit.entityvo.T_plateputing">
      SELECT    *,t_posting.title   from  t_plate  JOIN t_posting on t_posting.plate_id=t_plate.id where  t_posting.id=#{posting_id}
    </select>

</mapper>
