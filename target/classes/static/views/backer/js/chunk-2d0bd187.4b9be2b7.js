(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd187"],{"2b12":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"top"},[e("Input",{staticStyle:{width:"300px"},attrs:{search:"",placeholder:"Enter something..."}}),e("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:function(a){t.drawerShow=!0}}},[t._v("\n      添加\n    ")])],1),e("Table",{attrs:{border:"",columns:t.columns,data:t.tableData.data},scopedSlots:t._u([{key:"action",fn:function(a){var o=a.row,r=a.index;return[e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(a){return t.show(o)}}},[t._v("\n        查看\n      ")]),e("Button",{attrs:{type:"error",size:"small"},on:{click:function(a){return t.remove(r)}}},[t._v("\n        删除\n      ")])]}}])}),e("div",{staticClass:"page-box"},[e("Page",{attrs:{total:t.tableData.count,size:"small","show-elevator":"","show-total":""},on:{"on-change":t.pageChange}})],1),e("Drawer",{attrs:{title:"账号管理",width:"720","mask-closable":!1,styles:t.styles},on:{"on-close":t.clearDrawer},model:{value:t.drawerShow,callback:function(a){t.drawerShow=a},expression:"drawerShow"}},[e("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[e("Row",{attrs:{gutter:32}},[e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"姓名","label-position":"top",prop:"name"}},[e("Input",{model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1)],1),e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"身份","label-position":"top",prop:"post"}},[e("Input",{model:{value:t.formData.post,callback:function(a){t.$set(t.formData,"post",a)},expression:"formData.post"}})],1)],1),e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"手机号","label-position":"top",prop:"phone"}},[e("Input",{attrs:{type:"number"},model:{value:t.formData.phone,callback:function(a){t.$set(t.formData,"phone",a)},expression:"formData.phone"}})],1)],1),e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"用户名","label-position":"top",prop:"username"}},[e("Input",{model:{value:t.formData.username,callback:function(a){t.$set(t.formData,"username",a)},expression:"formData.username"}})],1)],1),e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"密码","label-position":"top",prop:"password"}},[e("Input",{attrs:{type:"password"},model:{value:t.formData.password,callback:function(a){t.$set(t.formData,"password",a)},expression:"formData.password"}})],1)],1)],1)],1),e("div",{staticClass:"demo-drawer-footer"},[e("Button",{attrs:{type:"primary"},on:{click:function(a){return t.submit("formData")}}},[t._v("提交")])],1)],1)],1)},r=[],n=(e("7f7f"),e("d930")),s={name:"Account",data:function(){return{columns:[{title:"编号",key:"id"},{title:"姓名",key:"name"},{title:"用户名",key:"username"},{title:"手机号",key:"phone"},{title:"身份",key:"post"},{title:"操作",slot:"action",width:150,align:"center"}],tableData:{data:[],count:0},drawerShow:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},formData:{},ruleValidate:n["c"],currPage:1}},methods:{clearDrawer:function(){this.formData={}},show:function(t){this.formData=t,this.drawerShow=!0},submit:function(t){var a=this;this.$refs[t].validate(function(t){t?(delete a.formData._index,delete a.formData._rowKey,delete a.formData.create_time,a.$ajax({method:"post",url:a.formData.id?"updateAdmin":"addAdmin",data:a.formData}).then(function(t){1===t.data.code?(a.$Notice.success({title:t.data.msg}),a.pageChange(a.currPage),a.drawerShow=!1):a.$Notice.error({title:t.data.msg})}).catch(function(t){a.$Notice.error({title:t.data.msg})})):a.$Message.error("Fail!")})},pageChange:function(t){var a=this;this.currPage=t,this.$ajax({method:"post",url:"/findAdminList",data:{page:t,limit:10}}).then(function(t){1===t.data.code?a.tableData=t.data:a.$Notice.error({title:t.data.msg})}).catch(function(t){a.$Notice.error({title:t.data.msg})})},remove:function(t){this.data6.splice(t,1)}},mounted:function(){this.pageChange(1)}},i=s,l=e("2877"),c=Object(l["a"])(i,o,r,!1,null,"05304d40",null);a["default"]=c.exports}}]);