(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21329e"],{ac06:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"top"},[e("Input",{staticStyle:{width:"300px"},attrs:{search:"",placeholder:"Enter something..."}}),e("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:function(a){t.drawerShow=!0}}},[t._v("添加")])],1),e("Table",{attrs:{border:"",columns:t.columns,data:t.tableData.data},scopedSlots:t._u([{key:"action",fn:function(a){var o=a.row;return[e("Button",{attrs:{type:"error",size:"small"},on:{click:function(a){return t.remove(o)}}},[t._v("删除")])]}}])}),e("div",{staticClass:"page-box"},[e("Page",{attrs:{total:t.tableData.count,size:"small","show-elevator":"","show-total":""},on:{"on-change":t.pageChange}})],1),e("Drawer",{attrs:{title:"编辑",width:"720","mask-closable":!1,styles:t.styles},on:{"on-close":t.clearDrawer},model:{value:t.drawerShow,callback:function(a){t.drawerShow=a},expression:"drawerShow"}},[e("Form",{attrs:{model:t.formData}},[e("Row",{attrs:{gutter:32}},[e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"起始金额"}},[e("Input",{attrs:{size:"large"},model:{value:t.formData.price,callback:function(a){t.$set(t.formData,"price",a)},expression:"formData.price"}})],1)],1),e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"减免金额"}},[e("Input",{attrs:{size:"large"},model:{value:t.formData.money,callback:function(a){t.$set(t.formData,"money",a)},expression:"formData.money"}})],1)],1)],1)],1),e("div",{staticClass:"demo-drawer-footer"},[e("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(a){t.drawerShow=!1}}},[t._v("取消")]),e("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")])],1)],1)],1)},r=[],n={name:"Discount",data:function(){return{drawerShow:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},formData:{},columns:[{title:"编号",key:"id"},{title:"起始金额",key:"price"},{title:"减免金额",key:"money"},{title:"操作",slot:"action",width:150,align:"center"}],tableData:{data:[],count:0}}},methods:{clearDrawer:function(){this.formData={}},submit:function(){var t=this;this.$ajax({method:"post",url:this.formData.id?"updateDiscount":"addDiscount",data:this.formData}).then(function(a){1===a.data.code?(t.$Notice.success({title:a.data.msg}),t.pageChange(1),t.drawerShow=!1):t.$Notice.error({title:a.data.msg})}).catch(function(a){t.$Notice.error({title:a.data.msg})})},show:function(){this.drawerShow=!0},remove:function(t){var a=this;this.$Modal.confirm({title:"提示",content:"<p>是否删除</p>",onOk:function(){a.$ajax({method:"post",url:"deleteDiscount",data:t}).then(function(t){1===t.data.code?(a.$Notice.success({title:t.data.msg}),a.pageChange(1)):a.$Notice.error({title:t.data.msg})}).catch(function(t){a.$Notice.error({title:t.data.msg})})},onCancel:function(){a.$Message.info("Clicked cancel")}})},pageChange:function(t){var a=this;this.$ajax({method:"post",url:"pageOfDiscount",data:{page:t,limit:10}}).then(function(t){1===t.data.code?a.tableData=t.data:a.$Notice.error({title:t.data.msg})}).catch(function(t){a.$Notice.error({title:t.data.msg})})}},mounted:function(){this.pageChange(1)}},i=n,s=e("2877"),c=Object(s["a"])(i,o,r,!1,null,"118a8ab2",null);a["default"]=c.exports}}]);