(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86257624"],{"268f":function(t,e,a){t.exports=a("fde4")},5933:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top"},[a("div"),a("a-button",{attrs:{type:"primary",shape:"circle",icon:"plus"},on:{click:function(e){t.drawerShow=!0}}},[t._v("添加")])],1),a("a-table",{attrs:{columns:t.columns,rowKey:function(t){return t.id},dataSource:t.tableData,pagination:t.pagination,loading:t.loading,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"operation",fn:function(e,n){return[a("a-button",{staticStyle:{"margin-right":"6px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.showDrawer(n)}}},[t._v("查看")]),a("a-popconfirm",{attrs:{title:"确定删除？",cancelText:"取消",okText:"确认"},on:{confirm:function(e){return t.remove(n)}}},[a("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),a("a-button",{attrs:{type:"danger",size:"small"}},[t._v("删除")])],1)]}}])}),a("a-drawer",{attrs:{title:"版本控制",width:720,visible:t.drawerShow,wrapClassName:"drawer-cont",destroyOnClose:""},on:{close:function(){return t.drawerShow=!1}}},[a("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[a("a-form-item",{attrs:{label:"版本"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_type"],expression:"['app_type']"}]},[a("a-select-option",{attrs:{value:"0"}},[t._v("安卓")]),a("a-select-option",{attrs:{value:"1"}},[t._v("IOS")])],1)],1),a("a-form-item",{attrs:{label:"版本号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_version"],expression:"['app_version']"}]})],1),a("a-form-item",{attrs:{label:"软件名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_name"],expression:"['app_name']"}]})],1),a("a-form-item",[a("a-upload",{attrs:{action:"",beforeUpload:t.handleChange,showUploadList:!1}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),t._v("\n            安卓版本请上传安装包\n          ")],1)],1),null!=t.file?a("p",[t._v(t._s(t.file.name))]):t._e()],1),a("div",{staticClass:"drawer-footer"},[a("a-button",{style:{marginRight:"8px"},on:{click:function(){return t.drawerShow=!1}}},[t._v("取消")]),a("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v("保存")])],1)],1)],1)],1)},r=[],o=a("cebc"),i={name:"version",data:function(){return{columns:[{title:"安装包类型",dataIndex:"app_type",customRender:function(t,e,a){return"0"===t?"安卓版本":"IOS版本"}},{title:"名称",dataIndex:"app_name"},{title:"内部版本号",dataIndex:"app_cood"},{title:"路径",dataIndex:"app_url",width:"50%"},{title:"版本",dataIndex:"app_version"}],tableData:[],pagination:{},loading:!1,drawerShow:!1,form:this.$form.createForm(this),file:null}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields(function(t,a){if(!t){var n=new FormData;0==a.app_type&&n.append("pic",e.file),n.append("app_version",a.app_version),n.append("app_name",a.app_name),n.append("app_type",a.app_type),n.append("app_cood",1),e.$ajax_({url:"t_app/inserttapp",data:n}).then(function(t){1===t.data.code&&(e.$message.success(t.data.msg),e.fetch(e.pagination),e.drawerShow=!1)})}})},showDrawer:function(t){var e=this;this.drawerShow=!0,setTimeout(function(){e.form.setFieldsValue(t)},500)},handleTableChange:function(t,e,a){var n=Object(o["a"])({},this.pagination);n.current=t.current,this.pagination=n,this.fetch(Object(o["a"])({limit:t.pageSize,page:t.current},e))},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.page=e.page||e.current||1,e.limit=e.limit||10,this.loading=!0,this.$ajax({url:"t_app/insertlist",data:Object(o["a"])({},e)}).then(function(e){var a=Object(o["a"])({},t.pagination);a.total=e.data.count,t.loading=!1,t.tableData=e.data.data,t.pagination=a})},remove:function(t){var e=this;this.$ajax({url:"delOne",data:{id:t.id}}).then(function(t){1===t.data.code&&(e.$message.success(t.data.msg),e.fetch(e.pagination))})},handleChange:function(t,e){return this.file=t,!1}},mounted:function(){this.fetch()}},c=i,s=a("2877"),p=Object(s["a"])(c,n,r,!1,null,null,null);e["default"]=p.exports},"85f2":function(t,e,a){t.exports=a("454f")},a4bb:function(t,e,a){t.exports=a("8aae")},bf90:function(t,e,a){var n=a("36c3"),r=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},cebc:function(t,e,a){"use strict";var n=a("268f"),r=a.n(n),o=a("e265"),i=a.n(o),c=a("a4bb"),s=a.n(c),p=a("85f2"),l=a.n(p);function u(t,e,a){return e in t?l()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=s()(a);"function"===typeof i.a&&(n=n.concat(i()(a).filter(function(t){return r()(a,t).enumerable}))),n.forEach(function(e){u(t,e,a[e])})}return t}a.d(e,"a",function(){return d})},e265:function(t,e,a){t.exports=a("ed33")},ed33:function(t,e,a){a("014b"),t.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(t,e,a){a("bf90");var n=a("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);