(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-448e66aa"],{"0d44":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"top"},[a("Input",{staticStyle:{width:"300px"},attrs:{search:"",placeholder:"输入关键词搜索……"},on:{input:t.searchVal}}),a("Button",{attrs:{type:"primary",shape:"circle",icon:"md-add",disabled:""}},[t._v("\n      添加\n    ")])],1),a("Table",{attrs:{border:"",columns:t.columns,data:t.tableData.data},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.show(r)}}},[t._v("\n        修改\n      ")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.remove(r)}}},[t._v("\n        删除\n      ")])]}}])}),a("div",{staticClass:"page-box"},[a("Page",{attrs:{total:t.tableData.count,size:"small","show-elevator":"","show-total":""},on:{"on-change":t.pageChange}})],1),a("Drawer",{attrs:{title:"编辑",width:"720","mask-closable":!1,styles:t.styles},on:{"on-close":t.closeDrawer},model:{value:t.drawerShow,callback:function(e){t.drawerShow=e},expression:"drawerShow"}},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"商品名称",prop:"productName"}},[a("Input",{attrs:{size:"large"},model:{value:t.formData.productName,callback:function(e){t.$set(t.formData,"productName",e)},expression:"formData.productName"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"库存",prop:"number"}},[a("Input",{attrs:{size:"large",type:"number"},model:{value:t.formData.number,callback:function(e){t.$set(t.formData,"number",e)},expression:"formData.number"}})],1)],1)],1)],1),a("div",{staticClass:"demo-drawer-footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("formData")}}},[t._v("\n        保存\n      ")])],1)],1)],1)},n=[],o=(a("7f7f"),a("f4e6")),i={name:"Stock",data:function(){return{drawerShow:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},formData:{},ruleValidate:o["c"],columns:[{title:"库存ID",key:"id"},{title:"商品库存数量",key:"number"},{title:"商品名称",key:"productName"},{title:"创建时间",key:"create_time",render:function(t,e){return t("div",Object(o["a"])(new Date(e.row.create_time),"yyyy-MM-dd"))}},{title:"操作",slot:"action",width:150,align:"center"}],tableData:{data:[],count:0},currPage:1}},methods:{searchVal:function(t){console.log(t),this.pageChange(1,t)},closeDrawer:function(){this.formData={}},submit:function(t){var e=this;this.$refs[t].validate(function(t){t?(delete e.formData._index,delete e.formData._rowKey,e.$ajax({method:"post",url:"updateInventory",data:e.formData}).then(function(t){1===t.data.code?(e.$Notice.success({title:t.data.msg}),e.drawerShow=!1,e.pageChange(e.currPage,"")):e.$Notice.error({title:t.data.msg})}).catch(function(t){e.$Notice.error({title:t.data.msg})})):e.$Message.error("Fail!")})},show:function(t){this.formData=t,this.drawerShow=!0},remove:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"<p>是否删除</p>",onOk:function(){e.$ajax({method:"post",url:"deleteInventoryById",data:t}).then(function(t){1===t.data.code?(e.$Notice.success({title:t.data.msg}),e.pageChange(1,"")):e.$Notice.error({title:t.data.msg})}).catch(function(t){e.$Notice.error({title:t.data.msg})})},onCancel:function(){e.$Message.info("Clicked cancel")}}),this.data6.splice(t,1)},pageChange:function(t,e){var a=this;this.currPage=t,this.$ajax({method:"post",url:"listAllInventoryById",data:{page:t,limit:10,productName:e}}).then(function(t){1===t.data.code?a.tableData=t.data:a.$Notice.error({title:t.data.msg})}).catch(function(t){a.$Notice.error({title:t.data.msg})})}},mounted:function(){this.pageChange(1,"")}},c=i,s=a("2877"),l=Object(s["a"])(c,r,n,!1,null,"34614f2b",null);e["default"]=l.exports},"3b2b":function(t,e,a){var r=a("7726"),n=a("5dbc"),o=a("86cc").f,i=a("9093").f,c=a("aae3"),s=a("0bfb"),l=r.RegExp,u=l,d=l.prototype,f=/a/g,m=/a/g,p=new l(f)!==f;if(a("9e1e")&&(!p||a("79e5")(function(){return m[a("2b4c")("match")]=!1,l(f)!=f||l(m)==m||"/a/i"!=l(f,"i")}))){l=function(t,e){var a=this instanceof l,r=c(t),o=void 0===e;return!a&&r&&t.constructor===l&&o?t:n(p?new u(r&&!o?t.source:t,e):u((r=t instanceof l)?t.source:t,r&&o?s.call(t):e),a?this:d,l)};for(var h=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=i(u),b=0;g.length>b;)h(g[b++]);d.constructor=l,l.prototype=d,a("2aba")(r,"RegExp",l)}a("7a56")("RegExp")},f4e6:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r}),a.d(e,"c",function(){return o});a("3b2b"),a("a481");function r(t){return-1==t?"订单取消":0==t?"待付款":1==t?"已付款，待发货":2==t?"已发货":3==t?"已签收":4==t?"已完成":5==t?"退货中":6==t?"退货审核通过":7==t?"退货审核不通过":void 0}function n(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[r]:("00"+a[r]).substr((""+a[r]).length)));return e}var o={}}}]);